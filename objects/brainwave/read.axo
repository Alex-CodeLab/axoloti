<objdefs>
   <obj.normal id="read" uuid="d09a92cea8a12f1b046368d69b92b47831c11cbf" sha="b63bba67d51fdaba4822ef88cb13b748703e946d">
      <upgradeSha>8847449eb00f524bb9181fc4f1bb7fcfadd160c6</upgradeSha>
      <sDescription>script with 2 inputs and 2 outputs, running in a separate thread, you must define &quot;void init(void){}&quot; and &quot;void loop(void)&quot;</sDescription>
      <author>Johannes Taelman</author>
      <license>BSD</license>
      <inlets/>
      <outlets>
         <frac32 name="quality" description="signal quality"/>
         <frac32 name="attention" description="attention"/>
         <frac32 name="meditation" description="meditation"/>
         <frac32 name="low_alpha" description="low alpha"/>
         <frac32 name="high_alpha" description="high_alpha"/>
         <frac32 name="low_beta" description="low beta"/>
         <frac32 name="high_beta" description="high_beta"/>
         <frac32 name="low_gamma" description="low gamma"/>
         <frac32 name="high_gamma" description="high_gamma"/>
         <frac32 name="delta" description="delta"/>
         <frac32 name="theta" description="theta"/>
      </outlets>
      <displays/>
      <params/>
      <attribs>
         <text name="script"/>
      </attribs>
      <code.declaration><![CDATA[int32_t _quality;
int32_t _attention;
int32_t _meditation;
int32_t _low_alpha;
int32_t _high_alpha;
int32_t _low_beta;
int32_t _high_beta;
int32_t _low_gamma;
int32_t _high_gamma;
int32_t _delta;
int32_t _theta;
attr_script
msg_t ThreadX2(){
  setup();
  while(!chThdShouldTerminate()){
     loop();
     chThdYield();
  }
  chThdExit((msg_t)0);
}
static msg_t ThreadX(void *arg) {
((attr_class *)arg)->ThreadX2();
}
WORKING_AREA(waThreadX, 1024);
Thread *Thd;
]]></code.declaration>
      <code.init><![CDATA[_quality = 0;
_attention = 0;
_meditation = 0;
_low_alpha = 0;
_high_alpha = 0;
_low_beta = 0;
_high_beta = 0;
_low_gamma = 0;
_high_gamma = 0;
_delta = 0;
_theta = 0;
  Thd = chThdCreateStatic(waThreadX, sizeof(waThreadX),
                    NORMALPRIO, ThreadX, (void *)this);
]]></code.init>
      <code.dispose><![CDATA[chThdTerminate(Thd);
chThdWait(Thd);
]]></code.dispose>
      <code.krate><![CDATA[outlet_quality = this->_quality;
outlet_attention = this->_attention;
outlet_meditation = this->_meditation;
outlet_low__alpha = this->_low_alpha;
outlet_high__alpha = this->_high_alpha;
outlet_low__beta = this->_low_beta;
outlet_high__beta = this->_high_beta;
outlet_low__gamma = this->_low_gamma;
outlet_high__gamma = this->_high_gamma;
outlet_delta = this->_delta;
outlet_theta = this->_theta;
]]></code.krate>
   </obj.normal>
</objdefs>